// ==== HEADER ====
// ===== default - text on left side, left aligned on desktop

.header {
  @include f-common;
  padding: 5rem 0;
  @include desktop {
    margin-top : -$nav-height;
    padding-top: calc(5rem + 2 * #{$nav-height});
  }

  &__content {
    @include limit-width;
    @include medium-lr-padding;
    display       : flex;
    flex-direction: column;
    @include desktop {
      display              : grid;
      grid-template-columns: .7fr 1fr;
      grid-gap             : 0 $grid-gap;
    }
  }

  &__text {
    text-align     : center;
    min-height     : fit-content;
    display        : grid;
    grid-auto-rows : max-content;
    justify-content: center;
    grid-gap       : 2rem;
    width          : 100%;
    align-content  : center;
    grid-auto-flow : rows;
    @include desktop {
      text-align     : left;
      justify-content: left;
    }
  }

  &__title-and-pill {
    display          : inline-grid;
    grid-auto-columns: max-content;
    justify-content  : center;
    grid-gap         : 1rem;
    width            : 100%;
    grid-auto-flow   : column;
    margin-bottom    : 2rem;
    @include desktop {
      justify-content: left;
    }
  }

  &__title {
    display       : inline-block;
    font-size     : $fs-h3;
    text-transform: uppercase;
    letter-spacing: .05em;
    color         : col($c-neutral, 6);
    margin        : 0;
  }

  &__headline {
    margin-top   : 1rem;
    margin-bottom: .5rem;
    font-size    : $fs-page-title;
    line-height  : 1.1;
    color        : var(--col-title);
    font-family  : 'Martel';
    font-weight  : 900;
    @include desktop {
      font-size: $fs-page-title-desktop;
    }
  }

  &__intro {
    font-size  : $fs-page-intro;
    line-height: 1.6;
    font-weight: 400;
  }

  &__buttons {
    display        : flex;
    justify-items  : left;
    grid-auto-flow : column;
    justify-content: center;
    flex-wrap      : wrap;
    @include desktop {
      justify-content: left;
    }

    .button {
      margin-right: .5em;
      margin-top  : .5em;
    }
  }

  &__figure {
    margin : 0;
    display: block;
    // svg {
    //   width        : 100%;
    //   max-width    : 500px;
    //   min-width    : 300px;
    //   margin-top   : auto;
    //   margin-bottom: auto;
    //   @include center-svg;
    //   position     : relative;
    //   flex-shrink  : 0;
    //   border-radius: 8px;
    //   overflow     : hidden;
    //   transform    : rotate3d(.4,1,0.2,10deg);
    //   box-shadow   : 35px 65px 125px -23px rgba(30,47,93,.4), 22.3px 35px 70px -40px rgba(0,0,0,.6);
    // }
  }
}
// ===== text centered, no image ======

.header--text-only {
  .header__content {
    display: block;
  }

  .header__text {
    text-align     : center;
    justify-content: center;
    @include desktop {
      text-align: center;
    }
  }

  .header__buttons {
    justify-content: center;
  }

  .header__title-and-pill {
    @include desktop {
      justify-content: center;
    }
  }
}
// ========================================================
// === GENERAL STYLES ===

.header--svg-background {
  position     : relative;
  margin-bottom: -150px;
  width        : 100%;
  overflow     : hidden;

  +.section {
    padding-top: 150px;
  }

  .header__svg-background {
    position       : absolute;
    top            : 0;
    left           : 0;
    height         : 100%;
    width          : 100%;
    overflow       : hidden;
    display        : flex;
    justify-content: center;

    svg {
      height     : 100%;
      width      : auto;
      flex-shrink: 0;
    }
  }

  .header__text {
    z-index       : 2;
    position      : relative;
    padding-bottom: 9rem;
  }

  .header__headline {
    font-size     : 1.75rem;
    letter-spacing: -.006em;
    line-height   : 1.45;
    @include desktop {
      font-size: 2.1rem;
    }
  }

  .header__intro {
    font-size     : 1rem;
    letter-spacing: -0.003em;
    line-height   : 1.5;
    font-weight   : 300;
    @include desktop {
      font-size: 1.25rem;
    }
  }

  .header__content {
    margin: 0 auto;
    @include desktop {
      grid-template-columns: 1fr 1fr;
    }
  }
}
// === SVG IMAGE ===

.header--svg-image {
  padding-bottom: 0;
  overflow      : hidden;
  padding-top   : calc(5rem + 1 * 72px);

  .header__headline {
    font-size     : 1.75rem;
    letter-spacing: -.006em;
    line-height   : 1.45;
    @include desktop {
      font-size: 2.1rem;
    }
  }

  .header__intro {
    font-size     : 1rem;
    letter-spacing: -0.003em;
    line-height   : 1.5;
    font-weight   : 300;
    @include desktop {
      font-size: 1.25rem;
    }
  }

  .header__svg-figure {
    display        : flex;
    align-items    : center;
    justify-content: center;
  }

  .header__svg-figure svg {
    margin-top : $intra-section-spacing;
    margin-left: -15%;
    width      : 130%;
    flex       : 0 0 auto;
    height     : auto;
    @include desktop {
      width       : 150%;
      margin-right: -12rem;
      margin-left : 0;
      max-width   : 754px;
    }
  }
}

.header--hero-image {
  @extend .header--text-only;
  @include bkg-img;
  position  : relative;
  min-height: 500px;

  .header__headline,
  .header__intro,
  .header__title {
    text-shadow: .01em .01em 1.5em rgba(255, 255, 255, 1);
  }

  .header__title {
    font-weight: 500;
  }
}
// 
// when the background is dark, the text needs to be lighter

.header--dark-bkg {
  .header__headline {
    color      : col($c-neutral, 1);
    text-shadow: .01em .01em 1em rgba(0, 5, 25, 0.1);
  }

  .header__intro {
    color      : col($c-neutral, 1);
    text-shadow: .01em .01em 1em rgba(0, 5, 25, 0.3);
  }

  .header__title {
    color: col($c-neutral, 4);
  }
}
// 
// ========= SPECIFIC STYLES ===========
// 
// HOSTED REPO
// hosted repository svg uses absolute sizing so that the svg is displayed correctly behind content

.header--hosted-repository {
  @extend .header--svg-background;
  padding-bottom: 600px;
  margin-bottom : -550px;
  @include desktop {
    padding-bottom: 5rem;
    margin-bottom : -300px;
  }

  +.section {
    padding-top: 300px;
  }

  .header__svg-background {
    svg {
      margin-right: 320px;
      height      : 100%;
      width       : auto;
      margin-top  : -219px;
      @include desktop {
        margin-top  : -808px;
        height      : 185%;
        margin-right: -40px;
      }
    }
  }
  // animage the svg line
  .animated-line {
    animation: dash 200s linear alternate infinite;
    @include low-motion;
  }
  @keyframes dash {
    from {
      stroke-dashoffset: 0;
    }

    to {
      stroke-dashoffset: 1000;
    }
  }
}
// 
// Wave with DataONE theme gradient

.header--wave-with-dataone-gradient {
  @extend .header--svg-background;
  @extend .header--text-only;
  @extend .header--dark-bkg;
}
// 
// DataONE plus

.header--dataone-plus {
  @extend .header--svg-image;
  // give the cards a subtle floating effect
  .animate-card-1 {
    animation: float 4.2s .4s ease-in-out infinite;
  }

  .animate-card-2 {
    animation: float 3.9s 1.2s ease-in-out infinite;
  }
  @keyframes float {
    0% {
      transform: translate(0);
    }

    65% {
      transform: translateY(5px);
    }

    100% {
      transform: translate(0);
    }
  }
}
// ========================================================
// === HEADER BACKGROUND COLOURS ===
// 

.header--col-default {
  background-color: col($c-neutral, 1);
}

.header--col-tertiary {
  @extend .header--dark-bkg;
  background-color: col($c-tertiary, 5);

  .header__title {
    color: col($c-tertiary, 2);
  }
}

.header--col-secondary-dark {
  @extend .header--dark-bkg;
  background-color: col($c-secondary, 8);
  background-image: linear-gradient(12deg, col($c-secondary, 8) -10%, col($c-secondary, 7) 40%, col($c-secondary, 7) 50%, col($c-secondary, 7) 60%, col($c-secondary, 8) 100%);
}