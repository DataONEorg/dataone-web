.d1search {
  // ==========================================================================
  //    Variables
  // ==========================================================================

  // Allow the block's base class to be used at all scopes within the block.
  // (bn = block name), use as: #{$bn}. 
  $bn       : &;
  // Use the block's base class as a variable prefix (remove class selector . )
  $prefix   : "--" + str-replace(#{$bn}, ".");

  // Variables specific to this block, based on varibles set at higher scope
  // (e.g. .section), such that blocks can be themed from a higher level.
  // The value may change in modified blocks or elements (i.e. block--modifier).
  // Always use css variables along with a default value to maintain the block's
  // independence & modularity (a la BEM).
 
 
  #{$prefix}-c-foreground : var(--section-fc-body, var(--c-foreground-on-default, black));
  #{$prefix}-c-accent: var(--section-c-accent, var(--c-accent-major, grey));
  #{$prefix}-c-form-field: var(--section-c-background-lighter, var(--c-default-lighter, white));

  // ==========================================================================
  //    Styles
  // ==========================================================================

  @include f-common;
  position  : relative;
  padding   : 1rem $lr-padding;
  margin-top: 10px;
  width     : 100%;
  @include desktop {
    width: 70%;
  }
  // LABEL
  // general label styles
  &__label {
    position     : absolute;
    top          : -5px;
    display      : block;
    transition   : .2s;
    color        : var(#{$prefix}-c-foreground);
    padding-left : 10px;
    padding-top  : 5px;
    padding-right: 15px;
    max-height   : 100%;
    white-space  : nowrap;
    overflow     : hidden;
    max-width    : 90%;
    @include desktop {
      padding-top : 0;
      padding-left: 20px;
      max-width   : none;
    }
  }
  // label when input field is not in focus
  &__input:placeholder-shown~.d1search__label {
    cursor   : text;
    top      : 33px;
    font-size : var(--fs-smaller, 0.9rem);
    @include desktop {
      font-size : var(--fs-large, 1.22rem);
    }
  }
  // label when input field is focused
  &__input:focus~.d1search__label {
    position   : absolute;
    top        : -10px;
    display    : block;
    transition : .2s;
    color      : var(#{$prefix}-c-accent);
    font-weight : var(--fw-bold, 500);
    font-size : var(--fs-smaller, 0.9rem);
    @include desktop {
      font-size : var(--fs-small, 1rem);
    }
  }
  // INPUT FIELD
  &__input {
    font-family: inherit;
    width      : 100%;
    outline    : 0;
    border     : 0;
    font-size : var(--fs-large, 1.22rem);
    background : transparent;
    transition : border-color .2s;
    background : var(#{$prefix}-c-form-field);
    color      : var(#{$prefix}-c-foreground);
    font       : inherit;
    box-shadow : .2rem .8rem 1.6rem rgba(0, 0, 0, 0.1);
    padding    : 22px 18px;
    height     : 65px;

    &::placeholder {
      color: transparent;
    }

    &:invalid,
    &:required {
      box-shadow: none;
    }

    &:focus {
      padding-bottom: 19px;
      padding-left  : 25px;
      font-weight : var(--fw-bolder, 700);
      border-width  : 3px;
    }
  }
}

.d1search--nav {
  @include desktop {
    margin       : 0;
    padding-right: 20px;
    width        : 100%;
    position     : relative;

    .d1search__input {
      height: 34px;
    }

    .d1search__input:focus {
      padding-bottom: 23px;
    }

    .d1search__input:placeholder-shown~.d1search__label {
      top      : 29px;
      font-size : var(--fs-smaller, 0.9rem);
    }

    .d1search__input:focus~.d1search__label {
      font-size : var(--fs-smallest, .8rem);
      top      : -2px;
    }

    .button {
      padding   : 0 11px;
      max-height: 44px;
      min-height: 44px;
      max-width : 44px;
      min-width : 44px;
    }
  }
}
